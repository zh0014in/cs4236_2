var lotteryContract = web3.eth.contract([{"constant":false,"inputs":[{"name":"number","type":"uint256"}],"name":"verifyNumber","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"ticketPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"maxNumber","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"number","type":"uint256"}],"name":"generateHash","outputs":[{"name":"result","type":"bytes32"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"},{"name":"number","type":"uint256"}],"name":"hash","outputs":[{"name":"result","type":"bytes32"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"currentRoundIndex","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"endRound","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"getOwner","outputs":[{"name":"result","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"soldOut","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"rounds","outputs":[{"name":"ticketsCount","type":"uint256"},{"name":"hitNumber","type":"uint256"},{"name":"revealed","type":"bool"},{"name":"prize","type":"uint256"},{"name":"soldOut","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"getCurrentRound","outputs":[{"name":"round","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"reveal","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"newRound","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"checkBalance","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"checkTicket","outputs":[{"name":"number","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"hash","type":"bytes32"}],"name":"buyTicket","outputs":[],"payable":true,"type":"function"},{"inputs":[],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"round","type":"uint256"}],"name":"OnGameStart","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"hitNumber","type":"uint256"}],"name":"OnGameEnd","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"number","type":"uint256"}],"name":"OnVerified","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"hitNumber","type":"uint256"}],"name":"OnHitNumberGenerated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"count","type":"uint256"}],"name":"OnTicketBought","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"round","type":"uint256"}],"name":"OnSoldout","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"message","type":"string"}],"name":"OnException","type":"event"}]);

//var theminer = eth.accounts[0];
//var thebuyer = eth.accounts[1];
//var anotherbuyer = eth.accounts[2];
//var theorganiser = eth.accounts[3];

var lottery = lotteryContract.new(
  {
    from: web3.eth.accounts[0],
    data: "606060405260006001600050555b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff02191690836c010000000000000000000000009081020402179055505b61190a806100596000396000f3606060405236156100ed576000357c01000000000000000000000000000000000000000000000000000000009004806301af61e9146100f25780631209b1f61461010f5780633a4f6999146101375780633ccfd60b1461015f5780634064bc061461018957806351208fb3146101be5780636896ef4b146101fc578063749aa2d914610224578063893d20e814610238578063893da6c9146102765780638c65c81f1461028a578063a32bf597146102db578063a475b5dd14610303578063c5b1d9aa14610317578063c71daccb1461032b578063c8055e8314610353578063e54232741461037b576100ed565b610002565b346100025761010d6004808035906020019091905050610393565b005b34610002576101216004805050610727565b6040518082815260200191505060405180910390f35b3461000257610149600480505061072c565b6040518082815260200191505060405180910390f35b34610002576101716004805050610731565b60405180821515815260200191505060405180910390f35b34610002576101a46004808035906020019091905050610828565b604051808260001916815260200191505060405180910390f35b34610002576101e2600480803590602001909190803590602001909190505061085d565b604051808260001916815260200191505060405180910390f35b346100025761020e60048050506108a0565b6040518082815260200191505060405180910390f35b346100025761023660048050506108a9565b005b346100025761024a6004805050610d75565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34610002576102886004805050610da4565b005b34610002576102a56004808035906020019091905050610f08565b60405180868152602001858152602001841515815260200183815260200182151581526020019550505050505060405180910390f35b34610002576102ed6004805050610f64565b6040518082815260200191505060405180910390f35b34610002576103156004805050610f76565b005b34610002576103296004805050611145565b005b346100025761033d6004805050611497565b6040518082815260200191505060405180910390f35b346100025761036560048050506114d8565b6040518082815260200191505060405180910390f35b61039160048080359060200190919050506115f5565b005b600060006000341115610410577ff4c7c533a16660254da7826d89be9740ec4c1bfbd3454ea9680fb9bf62fff91e60405180806020018281038252600f8152602001807f73686f756c64206e6f206574686572000000000000000000000000000000000081526020015060200191505060405180910390a1610002565b61041a338461085d565b9150600090505b60026000506000600160005054815260200190815260200160002060005060010160005054811015610720578160001916600260005060006001600050548152602001908152602001600020600050600001600050600083815260200190815260200160002060005060010160005054600019161415610712576003831115610520576000600260005060006001600050548152602001908152602001600020600050600001600050600083815260200190815260200160002060005060020160146101000a81548160ff02191690837f0100000000000000000000000000000000000000000000000000000000000000908102040217905550610721565b6000831115156105a6576000600260005060006001600050548152602001908152602001600020600050600001600050600083815260200190815260200160002060005060020160146101000a81548160ff02191690837f0100000000000000000000000000000000000000000000000000000000000000908102040217905550610721565b8260026000506000600160005054815260200190815260200160002060005060000160005060008381526020019081526020016000206000506000016000508190555033600260005060006001600050548152602001908152602001600020600050600001600050600083815260200190815260200160002060005060020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff02191690836c010000000000000000000000009081020402179055506001600260005060006001600050548152602001908152602001600020600050600001600050600083815260200190815260200160002060005060020160146101000a81548160ff02191690837f01000000000000000000000000000000000000000000000000000000000000009081020402179055507f12e041fea7de79dbe82d1809cb657043631dc03e05e7800e9ef33deabb61bbfe836040518082815260200191505060405180910390a1610721565b5b8080600101915050610421565b5b5b505050565b606481565b600381565b60006000600360005060003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000505490506000600360005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050819055503373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051809050600060405180830381858888f19350505050156107e6576001915061082456610823565b80600360005060003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000508190555060009150610824565b5b5090565b6000600382111561083857610002565b60008211151561084757610002565b610851338361085d565b9050610858565b919050565b60006000823373ffffffffffffffffffffffffffffffffffffffff16019050806040518082815260200191505060405180910390209150610899565b5092915050565b60016000505481565b600060006000600060003373ffffffffffffffffffffffffffffffffffffffff16600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151561097a577ff4c7c533a16660254da7826d89be9740ec4c1bfbd3454ea9680fb9bf62fff91e6040518080602001828103825260098152602001807f6e6f74206f776e6572000000000000000000000000000000000000000000000081526020015060200191505060405180910390a1610002565b60026000506000600160005054815260200190815260200160002060005060030160009054906101000a900460ff1615156109b457610002565b60009350600092505b60026000506000600160005054815260200190815260200160002060005060010160005054831015610b6a5760011515600260005060006001600050548152602001908152602001600020600050600001600050600085815260200190815260200160002060005060020160149054906101000a900460ff161515148015610aa6575060026000506000600160005054815260200190815260200160002060005060020160005054600260005060006001600050548152602001908152602001600020600050600001600050600085815260200190815260200160002060005060000160005054145b15610b5c57600260005060006001600050548152602001908152602001600020600050600001600050600084815260200190815260200160002060005060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1685600086815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff02191690836c0100000000000000000000000090810204021790555083806001019450505b5b82806001019350506109bd565b600a60646002600050600060016000505481526020019081526020016000206000506001016000505402811561000257049150816064600260005060006001600050548152602001908152602001600020600050600101600050540203600260005060006001600050548152602001908152602001600020600050600401600050819055506000841115610cb35783600260005060006001600050548152602001908152602001600020600050600401600050548115610002570490506000925082505b83831015610cb257806003600050600087600087815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828282505401925050819055505b8280600101935050610c2e565b5b8160036000506000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828282505401925050819055507fa812ba8988dbd51077e897aad9b4a8694a9d0b408849ca9c6fadb330fbb910e9600260005060006001600050548152602001908152602001600020600050600201600050546040518082815260200191505060405180910390a15b5b5050505050565b6000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050610da1565b90565b3373ffffffffffffffffffffffffffffffffffffffff16600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141515610e6b577ff4c7c533a16660254da7826d89be9740ec4c1bfbd3454ea9680fb9bf62fff91e6040518080602001828103825260098152602001807f6e6f74206f776e6572000000000000000000000000000000000000000000000081526020015060200191505060405180910390a1610002565b600160026000506000600160005054815260200190815260200160002060005060050160006101000a81548160ff02191690837f01000000000000000000000000000000000000000000000000000000000000009081020402179055507fde3c80bc55e1652e8b16ffcc3f579eee2fb01055ce6430a8fc4ecdef6ff58e556001600050546040518082815260200191505060405180910390a15b5b565b60026000506020528060005260406000206000915090508060010160005054908060020160005054908060030160009054906101000a900460ff16908060040160005054908060050160009054906101000a900460ff16905085565b60006001600050549050610f73565b90565b6000600060019150600090505b6002600050600060016000505481526020019081526020016000206000506001016000505481101561105157600260005060006001600050548152602001908152602001600020600050600001600050600082815260200190815260200160002060005060020160149054906101000a900460ff1615611043576002600050600060016000505481526020019081526020016000206000506000016000506000828152602001908152602001600020600050600001600050548218915081505b5b8080600101915050610f83565b6004828115610002570691508150600160026000506000600160005054815260200190815260200160002060005060030160006101000a81548160ff02191690837f010000000000000000000000000000000000000000000000000000000000000090810204021790555081600260005060006001600050548152602001908152602001600020600050600201600050819055507fdea08b86302d6533026386a3b5c2da54a6961877c56f1c1827238b400d13d0f7600260005060006001600050548152602001908152602001600020600050600201600050546040518082815260200191505060405180910390a15b5050565b3373ffffffffffffffffffffffffffffffffffffffff16600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151561120c577ff4c7c533a16660254da7826d89be9740ec4c1bfbd3454ea9680fb9bf62fff91e6040518080602001828103825260098152602001807f6e6f74206f776e6572000000000000000000000000000000000000000000000081526020015060200191505060405180910390a1610002565b60016001600050541015156113445760a0604051908101604052806000815260200160008152602001600081526020016002600050600060016001600050540381526020019081526020016000206000506004016000505481526020016000815260200150600260005060006001600050548152602001908152602001600020600050600082015181600101600050556020820151816002016000505560408201518160030160006101000a81548160ff02191690837f01000000000000000000000000000000000000000000000000000000000000009081020402179055506060820151816004016000505560808201518160050160006101000a81548160ff02191690837f0100000000000000000000000000000000000000000000000000000000000000908102040217905550905050611443565b60a060405190810160405280600081526020016000815260200160008152602001600081526020016000815260200150600260005060006001600050548152602001908152602001600020600050600082015181600101600050556020820151816002016000505560408201518160030160006101000a81548160ff02191690837f01000000000000000000000000000000000000000000000000000000000000009081020402179055506060820151816004016000505560808201518160050160006101000a81548160ff02191690837f01000000000000000000000000000000000000000000000000000000000000009081020402179055509050505b7f21b31242c523ddbc6fad7a5261208140a6262cbd09a462f5976160113977b9a56001600050546040518082815260200191505060405180910390a160016000818150548092919060010191905055505b5b565b6000600360005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005054905080508090506114d5565b90565b60006000600090505b600260005060006001600050548152602001908152602001600020600050600101600050548110156115f0573373ffffffffffffffffffffffffffffffffffffffff16600260005060006001600050548152602001908152602001600020600050600001600050600083815260200190815260200160002060005060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156115e25760026000506000600160005054815260200190815260200160002060005060000160005060008281526020019081526020016000206000506000016000505491506115f1565b5b80806001019150506114e1565b5b5090565b6000600060026000506000600160005054815260200190815260200160002060005060050160009054906101000a900460ff161561163257610002565b349150606482101561164357610002565b600090505b600260005060006001600050548152602001908152602001600020600050600101600050548110156116d55782600019166002600050600060016000505481526020019081526020016000206000506000016000506000838152602001908152602001600020600050600101600050546000191614156116c757610002565b5b8080600101915050611648565b606482111561171e5760648203600360005060003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828282505401925050819055505b81600260005060006001600050548152602001908152602001600020600050600401600082828250540192505081905550608060405190810160405280600081526020018481526020016000815260200160008152602001506002600050600060016000505481526020019081526020016000206000506000016000506000600260005060006001600050548152602001908152602001600020600050600101600050548152602001908152602001600020600050600082015181600001600050556020820151816001016000505560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff02191690836c0100000000000000000000000090810204021790555060608201518160020160146101000a81548160ff02191690837f01000000000000000000000000000000000000000000000000000000000000009081020402179055509050506002600050600060016000505481526020019081526020016000206000506001016000818150548092919060010191905055507ffee7237fb0d996da05e4828efb5bd07ac4cd7830b14e78e5eb67a1c1db6ab7c6600260005060006001600050548152602001908152602001600020600050600101600050546040518082815260200191505060405180910390a15b50505056",
    gas: 3000000
  }, function(e, contract){
       if(!e) { if(!contract.address) {
         console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");
       } else {
         console.log("Contract mined! Address: " + contract.address);
         console.log(contract);
       }
     }
});

